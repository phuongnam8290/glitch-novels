--
-- Script was generated by Devart dbForge Studio 2020 for MySQL, Version 9.0.338.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 02/16/2023 1:12:19 PM
-- Server version: 8.0.31
-- Client version: 4.1
--

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

DROP DATABASE IF EXISTS glitch_novels;

CREATE DATABASE IF NOT EXISTS glitch_novels
CHARACTER SET utf8mb4
COLLATE utf8mb4_0900_ai_ci;

--
-- Set default database
--
USE glitch_novels;

--
-- Create table `role`
--
CREATE TABLE IF NOT EXISTS role (
  role_id int NOT NULL AUTO_INCREMENT,
  role_name varchar(20) NOT NULL DEFAULT '',
  PRIMARY KEY (role_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 3,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create index `role_name` on table `role`
--
ALTER TABLE role
ADD UNIQUE INDEX role_name (role_name);

--
-- Create table `provider`
--
CREATE TABLE IF NOT EXISTS provider (
  provider_id int NOT NULL AUTO_INCREMENT,
  provider_name varchar(20) NOT NULL DEFAULT '',
  PRIMARY KEY (provider_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 4,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create index `provider_name` on table `provider`
--
ALTER TABLE provider
ADD UNIQUE INDEX provider_name (provider_name);

--
-- Create table `user`
--
CREATE TABLE IF NOT EXISTS user (
  user_id int NOT NULL AUTO_INCREMENT,
  user_username varchar(100) NOT NULL DEFAULT '',
  user_password varchar(255) DEFAULT NULL,
  role_id int NOT NULL DEFAULT 1,
  provider_id int NOT NULL DEFAULT 1,
  PRIMARY KEY (user_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 8,
AVG_ROW_LENGTH = 5461,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create check constraint
--
ALTER TABLE user
ADD CONSTRAINT CK_user_admin CHECK (((`role_id` = 2) AND (`provider_id` = 1)) OR (`role_id` <> 2));

--
-- Create check constraint
--
ALTER TABLE user
ADD CONSTRAINT CK_user_password CHECK (((`provider_id` = 1) AND (`user_password` IS NOT NULL)) OR ((`provider_id` <> 1) AND (`user_password` IS NULL)));

--
-- Create index `username` on table `user`
--
ALTER TABLE user
ADD UNIQUE INDEX username (user_username);

--
-- Create foreign key
--
ALTER TABLE user
ADD CONSTRAINT FK_user_provider FOREIGN KEY (provider_id)
REFERENCES provider (provider_id);

--
-- Create foreign key
--
ALTER TABLE user
ADD CONSTRAINT FK_user_role FOREIGN KEY (role_id)
REFERENCES role (role_id);

--
-- Create table `author`
--
CREATE TABLE IF NOT EXISTS author (
  author_id int NOT NULL AUTO_INCREMENT,
  author_name varchar(255) NOT NULL DEFAULT '',
  PRIMARY KEY (author_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 6,
AVG_ROW_LENGTH = 4096,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create index `author_name` on table `author`
--
ALTER TABLE author
ADD UNIQUE INDEX author_name (author_name);

--
-- Create table `novel`
--
CREATE TABLE IF NOT EXISTS novel (
  novel_id int NOT NULL AUTO_INCREMENT,
  novel_title varchar(255) NOT NULL DEFAULT '',
  novel_cover_url varchar(1000) NOT NULL DEFAULT '',
  novel_synopsis longtext NOT NULL,
  novel_created_date datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  novel_last_updated_date datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  author_id int NOT NULL,
  PRIMARY KEY (novel_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 92,
AVG_ROW_LENGTH = 341,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create index `novel_title` on table `novel`
--
ALTER TABLE novel
ADD UNIQUE INDEX novel_title (novel_title);

--
-- Create foreign key
--
ALTER TABLE novel
ADD CONSTRAINT FK_novel_author FOREIGN KEY (author_id)
REFERENCES author (author_id);

--
-- Create table `review`
--
CREATE TABLE IF NOT EXISTS review (
  review_id int NOT NULL AUTO_INCREMENT,
  review_title varchar(255) NOT NULL DEFAULT '"Untitled"',
  review_content longtext NOT NULL,
  review_rating decimal(2, 1) NOT NULL,
  is_spoiler tinyint NOT NULL DEFAULT 0,
  user_id int NOT NULL,
  novel_id int NOT NULL,
  PRIMARY KEY (review_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 6,
AVG_ROW_LENGTH = 4096,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create check constraint
--
ALTER TABLE review
ADD CONSTRAINT CK_review_rating CHECK (`review_rating` BETWEEN 0 AND 5);

--
-- Create index `UK_review` on table `review`
--
ALTER TABLE review
ADD UNIQUE INDEX UK_review (user_id, novel_id);

--
-- Create foreign key
--
ALTER TABLE review
ADD CONSTRAINT FK_review_novel FOREIGN KEY (novel_id)
REFERENCES novel (novel_id) ON DELETE CASCADE;

--
-- Create foreign key
--
ALTER TABLE review
ADD CONSTRAINT FK_review_user FOREIGN KEY (user_id)
REFERENCES user (user_id) ON DELETE CASCADE;

--
-- Create table `chapter`
--
CREATE TABLE IF NOT EXISTS chapter (
  chapter_id int NOT NULL AUTO_INCREMENT,
  chapter_number decimal(10, 3) NOT NULL,
  chapter_title varchar(255) DEFAULT NULL,
  chapter_content longtext NOT NULL,
  chapter_created_date datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  novel_id int NOT NULL,
  previous_chapter_id int DEFAULT NULL,
  next_chapter_id int DEFAULT NULL,
  PRIMARY KEY (chapter_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 53,
AVG_ROW_LENGTH = 372,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create check constraint
--
ALTER TABLE chapter
ADD CONSTRAINT CK_chapter_number CHECK (`chapter_number` >= 0);

--
-- Create foreign key
--
ALTER TABLE chapter
ADD CONSTRAINT FK_chapter_next_chapter FOREIGN KEY (next_chapter_id)
REFERENCES chapter (chapter_id) ON DELETE CASCADE;

--
-- Create foreign key
--
ALTER TABLE chapter
ADD CONSTRAINT FK_chapter_novel FOREIGN KEY (novel_id)
REFERENCES novel (novel_id) ON DELETE CASCADE;

--
-- Create foreign key
--
ALTER TABLE chapter
ADD CONSTRAINT FK_chapter_previous_chapter FOREIGN KEY (previous_chapter_id)
REFERENCES chapter (chapter_id) ON DELETE SET NULL;

--
-- Create table `tag`
--
CREATE TABLE IF NOT EXISTS tag (
  tag_id int NOT NULL AUTO_INCREMENT,
  tag_title varchar(255) NOT NULL DEFAULT '',
  tag_description varchar(1000) NOT NULL DEFAULT '',
  PRIMARY KEY (tag_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 38,
AVG_ROW_LENGTH = 442,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create index `tag_name` on table `tag`
--
ALTER TABLE tag
ADD UNIQUE INDEX tag_name (tag_title);

--
-- Create table `novel_has_tag`
--
CREATE TABLE IF NOT EXISTS novel_has_tag (
  novel_id int NOT NULL,
  tag_id int NOT NULL,
  PRIMARY KEY (novel_id, tag_id)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 496,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create foreign key
--
ALTER TABLE novel_has_tag
ADD CONSTRAINT FK_novel_has_tag_novel FOREIGN KEY (novel_id)
REFERENCES novel (novel_id);

--
-- Create foreign key
--
ALTER TABLE novel_has_tag
ADD CONSTRAINT FK_novel_has_tag_tag FOREIGN KEY (tag_id)
REFERENCES tag (tag_id);

--
-- Create table `genre`
--
CREATE TABLE IF NOT EXISTS genre (
  genre_id int NOT NULL AUTO_INCREMENT,
  genre_title varchar(255) NOT NULL DEFAULT '',
  genre_description varchar(1000) NOT NULL DEFAULT '',
  PRIMARY KEY (genre_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 12,
AVG_ROW_LENGTH = 2048,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create index `genre_name` on table `genre`
--
ALTER TABLE genre
ADD UNIQUE INDEX genre_name (genre_title);

--
-- Create table `novel_has_genre`
--
CREATE TABLE IF NOT EXISTS novel_has_genre (
  novel_id int NOT NULL,
  genre_id int NOT NULL,
  PRIMARY KEY (novel_id, genre_id)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 1092,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create foreign key
--
ALTER TABLE novel_has_genre
ADD CONSTRAINT FK_novel_has_genre_genre FOREIGN KEY (genre_id)
REFERENCES genre (genre_id);

--
-- Create foreign key
--
ALTER TABLE novel_has_genre
ADD CONSTRAINT FK_novel_has_genre_movel FOREIGN KEY (novel_id)
REFERENCES novel (novel_id);

-- 
-- Dumping data for table role
--
INSERT INTO role VALUES
(2, 'ADMIN'),
(1, 'USER');

-- 
-- Dumping data for table provider
--
INSERT INTO provider VALUES
(3, 'FACEBOOK'),
(2, 'GOOGLE'),
(1, 'LOCAL');

-- 
-- Dumping data for table author
--
INSERT INTO author VALUES
(5, 'Chugong'),
(2, 'Cocooned Cow'),
(4, 'Let me laugh'),
(3, 'Roh Yu-Jin'),
(1, 'The Maginot LIne');

-- 
-- Dumping data for table user
--
INSERT INTO user VALUES
(4, 'user1', '0a041b9462caa4a31bac3567e0b6e6fd9100787db2ab433d96f6d178cabfce90', 1, 1),
(5, 'user2', NULL, 1, 2),
(6, 'admin1', '25f43b1486ad95a1398e3eeb3d83bc4010015fcc9bedb35b432e00298d5021f7', 2, 1);

-- 
-- Dumping data for table tag
--
INSERT INTO tag VALUES
(1, 'Accelerated Growth', 'This tag is to be used to indicate a sudden growth of the protagonist. This growth takes place in a short period of time, and often is a one time growth. Growth can be in maturity or age.'),
(2, 'Adapted to Anime', 'This tag is to be used ONLY if an animated series/movie has been released based on the book. By animated series, it can be in any language, provided it is official. The tag is to be added only AFTER the official release of the animation.'),
(3, 'Adapted to Manhwa', 'This tag is to be used ONLY if a manhwa has been released based on the novel. By manhwa, it refers to the Korean equivalent of a comic book, provided it is an official publication. The tag is to be added only AFTER the official release of the manhwa.'),
(4, 'Appearance Changes', 'Tag is to be used when the main protagonist experiences drastic appearance changes compared to how s/he was at the start of the story.'),
(5, 'Army Building', 'This tag should be used when the main protagonist builds his own army in the story.'),
(6, 'Beautiful Female Lead', 'This tag is to be used if the female lead of the series is beautiful. \r\nThe descriptions should be what the author has written, and not what the fans fantasize.'),
(7, 'Calm Protagonist', 'This tag is used when the protagonist is able to remain calm in difficult and dangerous situation.'),
(8, 'Caring Protagonist', 'Tag should be used when the protagonist cares a lot about a number of people that can vary from many to one.'),
(9, 'Cheats', 'This tag should be used only if the protagonist has something that sets them apart from the other characters, such as special knowledge, a unique item or ability. Common examples are: Knowledge from a past life, Mana Pool 100 times bigger than everyone else''s, a unique game item that breaks the system''s rules.'),
(10, 'Determined Protagonist', 'For protagonist who are resolute'),
(11, 'Dungeons', 'This tag is to be used to describe the setting of the story. Tag signifies that a major portion of the story revolves around dungeons. Or, a major plot point takes place connected to dungeons in a story that can be otherwise considered to be unrelated to dungeons.'),
(12, 'Famous Protagonist', 'Tag is to be used only when the main protagonist is well known by a large section of society.'),
(13, 'Game Elements', 'Protagonist has a status screen or something similar to it.'),
(14, 'Gate to Another World', 'This tag is used only if there is a way by which characters of the novel travel between worlds.'),
(15, 'Grinding', 'This is a tag that is to be used ONLY in series set in a game world. Grinding refers to the action of repeatedly doing the same thing to get experience/points or other such benefits in the game world. This tag is to be used if the plot progression includes multiple scenes with a grinding theme.'),
(16, 'Guilds', 'A group of people have come together due to similar interests, often used as a controlling mechanism.   '),
(17, 'Handsome Male Lead', 'This tag is to be used if the male lead is handsome.'),
(18, 'Hard-Working Protagonist', 'This tag is to be used to define a protagonist who puts their utmost effort into all tasks, using all their energy and diligence to complete it.'),
(19, 'Hiding True Abilities', 'This tag is to be used when the protagonist hides their real abilities/powers. Typically, it is to be used when they act weak when they are actually really badass. This tag is to be added only if the protagonist does it for a significant amount of time.'),
(20, 'Hunters', 'This tag is used if the hunting profession is prominent in the novel''s storyline and/or world setting. Hunting in this context refers to hunting for something alive (e.g. orc, goblins, humans et. al.), treasure hunting did not count. The main character doesn''t have to be a hunter, or the hunted. '),
(21, 'Kuudere', 'It is used to describe characters who always remain calm and composed'),
(22, 'Late Romance', 'The romance involving the main character starts to develop very late or even after half-way through the story line and sometimes nearing the end, usually after 200-500+ chapters for Chinese novels, or 50-100+ for other novels if its very late or 1000+ chapters for Chinese novels or over 100+ chapters for other novels if the romance starts nearing the end.'),
(23, 'Level System', 'This tag is used when the characters of the novel improve their abilities/skills/power by leveling up.'),
(24, 'Loner Protagonist', 'This tag is to be added if the protagonist of a series is referred to as a loner by the author. Here, loner refers to someone who is generally not social.  Note that this is not the same as Anti-Social Protagonist tag.'),
(25, 'Loyal Subordinates', 'Where the protagonist has underlings that have a strong sense faith/devotion to the protagonist.'),
(26, 'Male Protagonist', 'If the protagonist of the series is male, then this tag is to be used. By protagonist, it refers to the leading/main character.'),
(27, 'Misunderstandings', 'Where one of the lead characters in a novel misunderstands something about the situation/action of another character or themselves. And continues to do so whether as a gag or ignorance/naivety for a significant part of the novel.'),
(28, 'Modern Day', 'This tag is used if the setting of the story is current or near-current Earth. Contrast Futuristic Setting, Ancient Times, Ancient China.'),
(29, 'Multiple POV', 'This tag is used if the storyline is being told/narrated through the viewpoints of multiple characters, not necessarily including the main character him/herself.'),
(30, 'Nationalism', 'Used when the story deliberately vilifies foreign nations and their people, while glorifying their own country.'),
(31, 'Near-Death Experience', 'This tag is NOT recommended to be used for a cultivation or reincarnation/transmigration novel,unless a special explanation can be given. As the name suggests, this tag is to be used ONLY when the protagonist goes through a near death experience either before or during the course of the plot. This experience is expected to be a significant plot point which changes the outlook of the protagonist.'),
(32, 'Necromancer', 'This tag is to be used if the protagonist is a necromancer by profession, or if necromancers are an important part of the story. A necromancer is a magician/sorcerer who specializes in magic related to death, and the recreation of dead beings.'),
(33, 'Overpowered Protagonist', 'Tag is to be used ONLY if the protagonist of the series is Overpowered (definition may vary based on novel). '),
(34, 'Personality Changes', 'where due to certain action or reason the personality of the protagonist changes drastically.'),
(35, 'Romantic Subplot', 'When the story has some male-female or other similar couple relationships, but not enough to warrant a romance genre tag. Can be used in tandem with Harem. Usually for when relationships are created without any further growth or expansion of said relationship, though this isn''t always the case.'),
(36, 'Time Travel', 'This tag is to be used when the Main protagonist moves from one era to another. How it is used depends on the story. It can also include jumping to the near future or near past but that all depends on the story putting emphasis. It should not be confused with Second Chance.'),
(37, 'Weak to Strong', 'This TAG is used to indicate the stories in which the protagonist starts at a weak power level and becomes gradually strong as the story progresses.');

-- 
-- Dumping data for table genre
--
INSERT INTO genre VALUES
(1, 'Romance', 'A story in this genre focus heavily on the romantic relationship between two or more people.'),
(2, 'Horror', 'Novels whose focus is to scare the audience.'),
(3, 'Mystery', 'Usually an unexplained event occurs, and the main protagonist attempts to find out what caused it.'),
(4, 'Fantasy', 'Anything that involves, but not limited to, magic, dream world, and fairy tales.'),
(5, 'Action', 'A work typically depicting fighting, violence, chaos, and fast paced motion.'),
(6, 'Sci-fi', 'Short for science fiction, these works involve twists on technology and other science related phenomena which are contrary or stretches of the modern day scientific world.'),
(7, 'Adventure', 'Exploring new places, environments or situations. This is often associated with people on long journeys to places far away encountering amazing things.'),
(8, 'Drama', 'A work meant to bring on an emotional response, such as instilling sadness or tension.\r\n\r\nNovels that often show life or characters through conflict and emotions. In general, the different parts of the story tend to form a whole that is greater than the sum of the parts. In other words, the story has a message that is bigger than just the story line itself'),
(10, 'Shounen', 'A work intended and primarily written for younger male audience. These works usually involve, but not limited to, fighting and/or violence.'),
(11, 'Supernatural', 'Usually entails amazing and unexplained powers or events which defy the laws of physics.');

-- 
-- Dumping data for table novel
--
INSERT INTO novel VALUES
(1, 'Solo Leveling', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675824420/glitch-novels/covers/05_ijbu2i.png', '<p>10 years ago, after “the Gate” that connected the real world with the monster world opened, some of the ordinary, everyday people received the power to hunt monsters within the Gate. They are known as “Hunters”.</p>\r\n\r\n<p>However, not all Hunters are powerful. My name is Sung Jin-Woo, an E-rank Hunter. I’m someone who has to risk his life in the lowliest of catacombs, the “World’s Weakest”.</p>\r\n\r\n<p>Having no skills whatsoever to display, I barely earned the required money by fighting in low-leveled catacombs… at least until I found a hidden catacomb with the hardest difficulty within the D-rank catacombs!</p>\r\n\r\n<p>In the end, as I was accepting death, I suddenly received a strange power, a quest log that only I could see, a secret to leveling up that only I know about! If I trained in accordance with my quests and hunted monsters, my level would rise.</p>\r\n\r\n<p>Changing from the weakest Hunter to the strongest S-rank Hunter!</p>', '2023-01-09 10:08:11', '2023-02-15 09:30:23', 5),
(2, 'True Martial World', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675824419/glitch-novels/covers/02_ydqrdh.jpg', '<p>With the strongest experts from the 33 Skies, the Human Emperor, Lin Ming and his opponent, the Abyssal Demon King were embroiled in a final battle. It ended with the Human Emperor destroying the Abyssal World and killing the Abyssal Demon King. By then, a godly artifact, the mysterious purple card that had previously sealed the Abyssal Demon King, had long disappeared into the space-time vortex and tunneled through infinite space-time with a loved one of Lin Ming accompanying it. In the vast wilderness, where martial arts was still slowly growing in its infancy, several peerless masters tried to find their path in the world of martial arts. A young adult named Yi Yun from modern Earth had unwittingly stumbled into such a world and began that journey with a purple card of unknown origin. It''s a magnificent yet unknown true martial art world. This is the story of a normal young adult and his adventures!!</p>', '2023-01-09 10:13:00', '2023-01-09 10:13:00', 2),
(3, 'The Second Coming of Gluttony', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675824419/glitch-novels/covers/04_jno0ue.jpg', '<p>He was an addict, a loser, a despicable human being.</p>\r\n<p>But, one fleeting dream that may not be a dream at all reawakens his once-lost senses.</p>\r\n<p>Possessing a very unique ability, he will use that, and the dream, to forge his path in the world now known as the Lost Paradise.</p>', '2023-01-09 10:16:03', '2023-01-09 10:41:13', 3),
(4, 'Top Tier Providence, Secretly Cultivate for a Thousand Years', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675824419/glitch-novels/covers/03_uyaokd.jpg', '<p>Being reincarnated in a cultivation world, Han Jue realizes that he can live his life like a video game. He can reroll his cultivation potential and connate providence.</p>\r\n<p>So, he spends 11 years rerolling for a good one…</p>\r\n<p>[Unparalleled: Immortal beauty, top-notch charm] [Destined Sword Fanatic: Top-notch Sword Dao aptitude, top-notch Sword Dao comprehension] [Unparalleled Movement Technique: Top-notch movement technique aptitude] [Descendant of the Immortal Emperor: You will receive an unparalleled cultivation technique and 1,000 superior-grade spirit stones]</p>\r\n<p>In pursuit of longevity, Han Jue decides to cultivate in a low-profile manner.</p>\r\n<p>A thousand years later, generations of cultivators have become history.</p>\r\n</p>That is when the Immortal Realm decides to clean up the mortal world. So, Han Jue finally has no choice but to take action.<p>\r\n<p>Then he realizes, deities and gods aren’t that powerful after all!</p>', '2023-01-09 10:19:02', '2023-01-09 10:39:49', 4),
(5, 'The Lady and the Beast', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675824419/glitch-novels/covers/01_t3nmts.jpg', '<p>100 years after her death, Empress Martina, the founder of the Carabella Empire, reincarnates as Astina Lette, the daughter of a count. Her peaceful, everyday life as a noble lady, a stark contrast to her past life, is short-lived, however. With the bankruptcy of her father’s failed trade business, her family falls into great debt. Astina decides to sell herself off to marry Grand Duke Thereode in place of her sister Kanna to save her family from their financial crisis. But Thereode is forever cursed to take on the form of a beast, and no one expects her to survive the night with him…</p>\r\n<p>Still, defying all odds, she fights the beast with her impressive swordsmanship, and miraculously survives. A slow relationship begins to kindle between them as she tames him as her pet.</p>\r\n<p>One night, Astina gives Theo a brief peck on the lips as a reward for his obedience, when suddenly…</p>\r\n<p>Theo becomes…. human?</p>', '2023-01-09 10:20:56', '2023-01-09 16:03:05', 1),
(49, 'A Record of a Mortal’s Journey to Immortality', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929459/glitch-novels/covers/49_yqpgw3.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(50, 'A Will Eternal', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929459/glitch-novels/covers/50_cyv9z4.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(51, 'Above Your Head', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929460/glitch-novels/covers/51_x5lnuv.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(52, 'Absolute Resonance', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929460/glitch-novels/covers/52_m3cblw.png', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(53, 'Against the Gods', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929459/glitch-novels/covers/53_gecaqk.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(54, 'Almighty Sword Domain', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929459/glitch-novels/covers/54_j9crnt.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(55, 'Ancient Strengthening Technique', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929460/glitch-novels/covers/55_m6jrg5.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(56, 'Archfiend', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929460/glitch-novels/covers/56_fkkb4n.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(57, 'Battle Through the Heavens', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929460/glitch-novels/covers/57_gnp0gc.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(58, 'Beastmaster of the Ages', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929461/glitch-novels/covers/58_yxnnzb.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(59, 'Become a Star', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929461/glitch-novels/covers/59_msbyob.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(60, 'Book Eater', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929460/glitch-novels/covers/60_kclnfr.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(61, 'Child of Light', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929460/glitch-novels/covers/61_iqmlvp.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(62, 'City of Sin', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929461/glitch-novels/covers/62_ueki1u.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(63, 'Coiling Dragon', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929461/glitch-novels/covers/63_a3fuan.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(64, 'Heaven''s Devourer', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929461/glitch-novels/covers/64_d2lgvk.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(65, 'Lord of Glory', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929461/glitch-novels/covers/65_kkxgda.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(66, 'Dragonheart Core', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929461/glitch-novels/covers/66_lihjik.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(67, 'Rise Online: Return of the Legendary Player', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929461/glitch-novels/covers/67_bcwyyd.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(68, 'Biological Supercomputer System', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929462/glitch-novels/covers/68_nlm2n2.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(69, 'Godclads', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929462/glitch-novels/covers/69_ca7cjc.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(70, 'Minute Mage: A Time-Traveling LitRPG Progression Fantasy', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929462/glitch-novels/covers/70_kdnko7.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(71, 'I Fell into the Game with Instant Kill', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929462/glitch-novels/covers/71_r9rvle.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(72, 'I Killed the Player of the Academy', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929462/glitch-novels/covers/72_sesakv.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(73, 'Solo Swordmaster', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929462/glitch-novels/covers/73_a9wnxi.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(74, 'The Damned Demon', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929462/glitch-novels/covers/74_ktlu05.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(75, 'Demon Immortal', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929462/glitch-novels/covers/75_vlzz90.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(76, 'Eternal Thief', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929462/glitch-novels/covers/76_q0d83j.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(77, 'The Ruined Death Knight', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929462/glitch-novels/covers/77_uzklpi.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(78, 'The Rise of the Black Plain', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929463/glitch-novels/covers/78_uwo2jy.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(79, 'Second World', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929463/glitch-novels/covers/79_urwfdf.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(80, 'Immortal In The Magic World', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929464/glitch-novels/covers/80_bgp8lp.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(81, 'Reincarnated With The Van Helsing System', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929463/glitch-novels/covers/81_wzolwo.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(82, 'Lightning Is the Only Way', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929463/glitch-novels/covers/82_axpwbj.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(83, 'Konoha Hypocrite', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929463/glitch-novels/covers/83_b8cmc4.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(84, 'Love Letter From The Future', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929463/glitch-novels/covers/84_ayvnjc.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(85, 'Global Demon King: Starting as the Abyssal Dragon', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929463/glitch-novels/covers/85_fqga2q.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(86, 'The Reincarnated Assassin is a Genius Swordsman', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929464/glitch-novels/covers/86_yxihfs.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(87, 'Mage Adam', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929464/glitch-novels/covers/87_xgw9p1.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(88, 'MMORPG : Rebirth Of The Strongest Vampire God', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929464/glitch-novels/covers/88_u90bti.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(89, 'Destroying My Own Novel', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929464/glitch-novels/covers/89_uddfot.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(90, 'Hero of Darkness', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929464/glitch-novels/covers/90_f4lp7d.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1),
(91, 'Son of the Hero King', 'https://res.cloudinary.com/dy9vrfexa/image/upload/v1675929464/glitch-novels/covers/91_tx6zbj.jpg', '<p>Lorem 1</p><p>Lorem 2</p>', '2023-02-09 11:13:58', '2023-02-09 11:13:58', 1);

-- 
-- Dumping data for table review
--
INSERT INTO review VALUES
(1, 'Good', '<p>This novel is one of the peaks of korean writing. Its short, action packed, has great characters, mystery and lots of fans service. I enjoyed every second of it and i am glad that i waited for it to finish, befor i started reading. Because waiting for chapters after starting reading was no option. Can only recommend this story.</p>', 5.0, 0, 4, 3),
(3, 'Great plot development', '</p>This novel is definitely in the top 10 of my novels. He has a great plot development and it''s easy to see that when comparing how the protagonist was in the past and how he is now, in addition the development of the other characters was also great (only a few that left something to be desired, but it''s not something that interfere with reading). Well, I really liked this novel a lot, I just found the harem formation in the side stories a little boring and forced, but ok.<p>', 4.5, 1, 5, 3),
(4, 'Something lacking', '<p>One of the greatest stories I have ever had the pleasure of reading. It is not perfect, but is there really anything that is? (These statements are my personal opinion. Its ok to not agree). It has been a bit since I’ve read this so please forgive me if some of my statements are off. I feel like there are many good things that make this one of the best weak->strong stories currently written. The story flows amazingly and for the most part the plot never become stale or too overwhelming. He also does not become so strong that nothing is a challenge. He faces challenge all the way to the very end. The story does not become too focused on him beating something, getting stronger, beating something, etc. The story balances it out with other events with development of other characters, his relationship with others, and shows lots of world development too. You see how his actions as well as others genuinely affect the world, and he doesn''t just do whatever he wants. There is the slightest bit of romance, but it’s insignificant in my opinion. I remember thinking “What is the point of this?” It was unnecessary IMO, but on the other hand it didn’t interrupt the flow of the plot. It wasnt over the top or annoying and the girl isnt stupid. Like Ive said I’m sure there are bad things, but you can decide what those things are yourself.</p>', 3.8, 0, 4, 5),
(5, 'Average cultivation novel', '<p>MC cultivates --> Enemy approaching --> MC thinks their strong and goes to simulator to fight them --> Find out how weak they are (he doesn''t realise that he''s just strong) --> They fight --> Most of the time he kills the enemy --> Mc goes back to cultivating. This is what mostly happens in the novel after you read the early chapters. He stays in one place most of the time and doesn''t go out because he''s a coward and doesn''t realise that he''s the strongest in his area. It''s repetitive af but at the same time, it''s entertaining. You might read this review before reading the novel and say, "How is cultivating entertaining?" First of all, we get news of what''s happening to the side characters. Second, it''s just funny at how absurd his power is. Thirdly even though I said that the novel is boring, the characters are actually quite fleshed out. I feel sad when a character that we see in the norm suddenly die. It''s because they never get mentioned again and you feel like they actually died and got forgotten. The only reason I''m putting this at 3 stars is because of how addictive it is. It''s fucking boring but I promise you that you''ll waste your time reading this to like 500 chapters and drop it when you realise the problems in this novel.</p>', 2.2, 0, 5, 4);

-- 
-- Dumping data for table novel_has_tag
--
INSERT INTO novel_has_tag VALUES
(1, 1),
(1, 2),
(1, 3),
(1, 4),
(1, 5),
(1, 6),
(1, 7),
(1, 8),
(1, 9),
(1, 10),
(1, 11),
(1, 12),
(1, 13),
(1, 14),
(1, 15),
(1, 16),
(1, 17),
(1, 18),
(1, 19),
(1, 20),
(1, 21),
(1, 22),
(1, 23),
(1, 24),
(1, 25),
(1, 26),
(1, 27),
(1, 28),
(1, 29),
(1, 30),
(1, 31),
(1, 32),
(1, 33),
(1, 34),
(1, 35),
(1, 36),
(1, 37);

-- 
-- Dumping data for table novel_has_genre
--
INSERT INTO novel_has_genre VALUES
(2, 1),
(1, 3),
(1, 4),
(3, 4),
(4, 4),
(1, 5),
(2, 5),
(3, 5),
(4, 5),
(5, 5),
(5, 6),
(1, 7),
(1, 8),
(1, 10),
(1, 11);

-- 
-- Dumping data for table chapter
--
INSERT INTO chapter VALUES
(7, 0.000, 'Prologue', ' ', '2023-01-15 08:53:28', 1, NULL, 10),
(10, 1.000, 'Technique Selection For Aspirant Cultivators 111111111 2222222222222 44444444444', ' ', '2023-01-16 09:12:45', 1, 7, 11),
(11, 2.000, 'Emergence of Talent 11111111111111 111111111111 222222222222 444444444444 5555555555', ' ', '2023-01-17 09:17:15', 1, 10, 12),
(12, 3.000, 'Cultivation Takes Off', ' ', '2023-01-18 09:17:31', 1, 11, 13),
(13, 4.000, 'Cultivating By Digging Sand', ' ', '2023-01-19 09:17:42', 1, 12, 14),
(14, 5.000, 'The Five-Element Skill', ' ', '2023-01-20 09:17:58', 1, 13, 15),
(15, 6.000, 'Soaring Clouds Ship', ' ', '2023-01-21 09:18:08', 1, 14, 16),
(16, 7.000, 'Enemy Attack', ' ', '2023-01-21 09:18:18', 1, 15, 17),
(17, 8.000, 'Venomous Sandworm', ' ', '2023-01-22 09:19:10', 1, 16, 18),
(18, 9.000, 'Yellow Sands Cavern', ' ', '2023-01-22 09:19:19', 1, 17, 19),
(19, 10.000, 'All Celestials Value Their Lives', ' ', '2023-01-23 09:19:32', 1, 18, 20),
(20, 11.000, 'The Burrowing Technique', ' ', '2023-01-23 09:23:43', 1, 19, 21),
(21, 12.000, 'Interrupt the Spell', ' ', '2023-01-24 09:25:44', 1, 20, 22),
(22, 13.000, 'Cold Jade Spiders', ' ', '2023-01-24 09:25:56', 1, 21, 23),
(23, 14.000, 'Bypassing The Formation', ' ', '2023-01-25 09:26:08', 1, 22, 24),
(24, 15.000, 'Opportunity at the Blessed Land', ' ', '2023-01-25 09:26:14', 1, 23, 25),
(25, 16.000, 'Mastering the Five Elements', ' ', '2023-01-25 09:26:23', 1, 24, 26),
(26, 17.000, 'Obtaining the Celestial Bone', ' ', '2023-01-26 09:26:32', 1, 25, 27),
(27, 18.000, 'Ransack the Blessed Land', ' ', '2023-01-28 09:26:38', 1, 26, 28),
(28, 19.000, 'A Ray of Sword Light', ' ', '2023-01-29 09:26:45', 1, 27, 29),
(29, 20.000, 'Return Safely', ' ', '2023-01-29 09:26:51', 1, 28, 30),
(30, 21.000, 'Luanyun Mountain Range', ' ', '2023-01-29 09:26:57', 1, 29, 31),
(31, 22.000, 'The Four Tests About One''s Qualities', ' ', '2023-01-30 09:27:02', 1, 30, 32),
(32, 23.000, 'Romance in the Temple', ' ', '2023-01-30 09:27:21', 1, 31, 33),
(33, 24.000, 'The Script of the Headmaster', ' ', '2023-01-31 09:27:34', 1, 32, 34),
(34, 25.000, 'Qinghuang of Hongluan', ' ', '2023-01-31 09:27:39', 1, 33, 35),
(35, 26.000, 'Selection of Disciples', ' ', '2023-02-02 09:27:45', 1, 34, 36),
(36, 27.000, 'Name Asking by the Master', ' ', '2023-02-02 09:27:51', 1, 35, 37),
(37, 28.000, 'Reverse Formation', ' ', '2023-02-03 09:27:59', 1, 36, 38),
(38, 29.000, 'Frank Disclosure', '  ', '2023-02-03 09:28:41', 1, 37, 39),
(39, 30.000, 'The Robe and The Sword', ' ', '2023-02-03 09:28:52', 1, 38, 40),
(40, 31.000, 'Choosing the Celestial Scripture', ' ', '2023-02-04 09:28:57', 1, 39, 41),
(41, 32.000, 'Reversed Yin Yang', ' ', '2023-02-05 09:29:05', 1, 40, 42),
(42, 33.000, 'Level 10 of Meditation Plane', ' ', '2023-02-05 09:29:11', 1, 41, 43),
(43, 34.000, 'Cultivate Formation into Path', ' ', '2023-02-06 09:29:16', 1, 42, 44),
(44, 35.000, 'Ask the Reason', ' ', '2023-02-07 09:29:22', 1, 43, 45),
(45, 36.000, 'Self-Reflection', ' ', '2023-02-08 09:29:36', 1, 44, 46),
(46, 37.000, 'Double Identity', ' ', '2023-02-09 09:29:43', 1, 45, 47),
(47, 38.000, 'Two Schools of Sword Techniques', ' ', '2023-02-03 09:29:48', 1, 46, 48),
(48, 39.000, 'Master-Uncle Arrives', ' ', '2023-02-10 09:29:55', 1, 47, 49),
(49, 40.000, 'Meeting Again', ' ', '2023-02-10 09:30:03', 1, 48, 50),
(50, 41.000, 'Creating a Pill Cauldron', ' ', '2023-02-11 09:30:12', 1, 49, 51),
(51, 42.000, 'Choosing the Recipe', ' ', '2023-02-18 09:30:17', 1, 50, 52),
(52, 43.000, 'Chased Out', ' ', '2023-02-14 09:30:23', 1, 51, NULL);

--
-- Set default database
--
USE glitch_novels;

DELIMITER $$

--
-- Create trigger `TG_novel_set_latest_update`
--
CREATE 
	DEFINER = 'root'@'localhost'
TRIGGER TG_novel_set_latest_update
	AFTER INSERT
	ON chapter
	FOR EACH ROW
UPDATE novel n
  SET n.novel_last_updated_date = NEW.chapter_created_date
  WHERE n.novel_id = NEW.novel_id
$$

DELIMITER ;

-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS = @OLD_FOREIGN_KEY_CHECKS */;